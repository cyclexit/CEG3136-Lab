


ARM Macro Assembler    Page 1 


    1 00000000                 AREA             |.text|, CODE, READONLY
    2 00000000                 PRESERVE8                    ;
    3 00000000                 THUMB                        ;
    4 00000000         
    5 00000000         player_check_move_s
                               FUNCTION                     ; char player_check
                                                            _move_s(player_t *p
                                                            layer, int row, int
                                                             col);
    6 00000000                 EXPORT           player_check_move_s
    7 00000000         ; r0 *player
    8 00000000         ; r1 row
    9 00000000         ; r2 col
   10 00000000 B530            PUSH             {r4-r5, lr} ; push registers
   11 00000002 4603            MOV              r3, r0
   12 00000004 8818            LDRH             r0, [r3, #0]
   13 00000006 EB02 0581       ADD              r5, r2, r1, LSL #2
   14 0000000A 2401            MOVS             r4, #1
   15 0000000C 40AC            LSLS             r4, r4, r5
   16 0000000E EA00 0004       AND              r0, r0, r4
   17 00000012 B110            CBZ              r0, pcms_rc1
   18 00000014 F04F 0000       MOV              r0, #0      ;
   19 00000018 BD30    pcms_return
                               POP              {r4-r5, pc} ; pop the registers
                                                            
   20 0000001A F04F 0001 
                       pcms_rc1
                               MOV              r0, #1
   21 0000001E E7FB            B                pcms_return
   22 00000020                 ENDFUNC
   23 00000020         
   24 00000020         player_make_move_s
                               FUNCTION                     ; char player_make_
                                                            move_s(player_t *pl
                                                            ayer, int row, int 
                                                            col);
   25 00000020                 EXPORT           player_make_move_s
   26 00000020         ; r0 *player
   27 00000020         ; r1 row
   28 00000020         ; r2 col
   29 00000020 B530            PUSH             {r4-r5, lr}
   30 00000022 4603            MOV              r3, r0
   31 00000024 8818            LDRH             r0, [r3, #0]
   32 00000026 EB02 0581       ADD              r5, r2, r1, LSL #2
   33 0000002A 2401            MOVS             r4, #1
   34 0000002C 40AC            LSLS             r4, r4, r5
   35 0000002E EA00 0004       AND              r0, r0, r4
   36 00000032 B108            CBZ              r0, pmms_store
   37 00000034 2000            MOVS             r0, #0
   38 00000036 BD30    pmms_return
                               POP              {r4-r5, pc}
   39 00000038 8818    pmms_store
                               LDRH             r0, [r3, #0]
   40 0000003A 4320            ORRS             r0, r0, r4
   41 0000003C 8018            STRH             r0, [r3, #0]
   42 0000003E 2001            MOVS             r0, #1
   43 00000040 E7F9            B                pmms_return
   44 00000042                 ENDFUNC
   45 00000042         



ARM Macro Assembler    Page 2 


   46 00000042         player_won_s
                               FUNCTION                     ; char player_won_s
                                                            (player_t * player)
                                                            ;
   47 00000042                 EXPORT           player_won_s
   48 00000042         ; r0 *player
   49 00000042 4601            MOV              r1, r0
   50 00000044 F04F 0000       MOV              r0, #0      ; char won = 0;
   51 00000048         
   52 00000048 880A    s0x0007 LDRH             r2,[r1,#0x00]
   53 0000004A F002 0207       AND              r2,r2,#0x0007
   54 0000004E 2A07            CMP              r2,#0x0007
   55 00000050 D100            BNE              s0x0070
   56 00000052 E035            B                pws_rc1
   57 00000054         
   58 00000054 880A    s0x0070 LDRH             r2,[r1,#0x00]
   59 00000056 F002 0270       AND              r2,r2,#0x0070
   60 0000005A 2A70            CMP              r2,#0x0070
   61 0000005C D100            BNE              s0x0700
   62 0000005E E02F            B                pws_rc1
   63 00000060         
   64 00000060 880A    s0x0700 LDRH             r2,[r1,#0x00]
   65 00000062 F402 62E0       AND              r2,r2,#0x0700
   66 00000066 F5B2 6FE0       CMP              r2,#0x0700
   67 0000006A D100            BNE              s0x0111
   68 0000006C E028            B                pws_rc1
   69 0000006E         
   70 0000006E 880A    s0x0111 LDRH             r2,[r1,#0x00]
   71 00000070 F240 1311       MOVW             r3,#0x0111
   72 00000074 EA02 0203       AND              r2,r2,r3
   73 00000078 429A            CMP              r2,r3
   74 0000007A D100            BNE              s0x0222
   75 0000007C E020            B                pws_rc1
   76 0000007E         
   77 0000007E 880A    s0x0222 LDRH             r2,[r1,#0x00]
   78 00000080 F240 2322       MOVW             r3,#0x0222
   79 00000084 EA02 0203       AND              r2,r2,r3
   80 00000088 429A            CMP              r2,r3
   81 0000008A D100            BNE              s0x0444
   82 0000008C E018            B                pws_rc1
   83 0000008E         
   84 0000008E 880A    s0x0444 LDRH             r2,[r1,#0x00]
   85 00000090 F240 4344       MOVW             r3,#0x0444
   86 00000094 EA02 0203       AND              r2,r2,r3
   87 00000098 429A            CMP              r2,r3
   88 0000009A D100            BNE              s0x0124
   89 0000009C E010            B                pws_rc1
   90 0000009E         
   91 0000009E 880A    s0x0124 LDRH             r2,[r1,#0x00]
   92 000000A0 F240 1324       MOVW             r3,#0x0124
   93 000000A4 EA02 0203       AND              r2,r2,r3
   94 000000A8 429A            CMP              r2,r3
   95 000000AA D100            BNE              s0x0421
   96 000000AC E008            B                pws_rc1
   97 000000AE         
   98 000000AE 880A    s0x0421 LDRH             r2,[r1,#0x00]
   99 000000B0 F240 4321       MOVW             r3,#0x0421
  100 000000B4 EA02 0203       AND              r2,r2,r3
  101 000000B8 429A            CMP              r2,r3



ARM Macro Assembler    Page 3 


  102 000000BA D100            BNE              pws_return
  103 000000BC E000            B                pws_rc1
  104 000000BE         
  105 000000BE 4770    pws_return
                               BX               lr
  106 000000C0 F04F 0001 
                       pws_rc1 MOV              r0, #1
  107 000000C4 E7FB            B                pws_return
  108 000000C6         
  109 000000C6                 ENDFUNC
  110 000000C6         
  111 000000C6                 END
Command Line: --debug --xref --diag_suppress=9931 --cpu=Cortex-M4.fp.sp --apcs=
interwork --depend=.\objects\player_1.d -o.\objects\player_1.o -I.\RTE\_Target_
1 -IC:\Users\honyl\AppData\Local\Arm\Packs\ARM\CMSIS\5.9.0\CMSIS\Core\Include -
IC:\Users\honyl\AppData\Local\Arm\Packs\Keil\STM32F4xx_DFP\2.16.0\Drivers\CMSIS
\Device\ST\STM32F4xx\Include --predefine="__EVAL SETA 1" --predefine="__UVISION
_VERSION SETA 533" --predefine="_RTE_ SETA 1" --predefine="STM32F417xx SETA 1" 
--predefine="_RTE_ SETA 1" --list=.\listings\player.lst player.s



ARM Macro Assembler    Page 1 Alphabetic symbol ordering
Relocatable symbols

.text 00000000

Symbol: .text
   Definitions
      At line 1 in file player.s
   Uses
      None
Comment: .text unused
pcms_rc1 0000001A

Symbol: pcms_rc1
   Definitions
      At line 20 in file player.s
   Uses
      At line 17 in file player.s
Comment: pcms_rc1 used once
pcms_return 00000018

Symbol: pcms_return
   Definitions
      At line 19 in file player.s
   Uses
      At line 21 in file player.s
Comment: pcms_return used once
player_check_move_s 00000000

Symbol: player_check_move_s
   Definitions
      At line 5 in file player.s
   Uses
      At line 6 in file player.s
Comment: player_check_move_s used once
player_make_move_s 00000020

Symbol: player_make_move_s
   Definitions
      At line 24 in file player.s
   Uses
      At line 25 in file player.s
Comment: player_make_move_s used once
player_won_s 00000042

Symbol: player_won_s
   Definitions
      At line 46 in file player.s
   Uses
      At line 47 in file player.s
Comment: player_won_s used once
pmms_return 00000036

Symbol: pmms_return
   Definitions
      At line 38 in file player.s
   Uses
      At line 43 in file player.s
Comment: pmms_return used once
pmms_store 00000038

Symbol: pmms_store



ARM Macro Assembler    Page 2 Alphabetic symbol ordering
Relocatable symbols

   Definitions
      At line 39 in file player.s
   Uses
      At line 36 in file player.s
Comment: pmms_store used once
pws_rc1 000000C0

Symbol: pws_rc1
   Definitions
      At line 106 in file player.s
   Uses
      At line 56 in file player.s
      At line 62 in file player.s
      At line 68 in file player.s
      At line 75 in file player.s
      At line 82 in file player.s
      At line 89 in file player.s
      At line 96 in file player.s
      At line 103 in file player.s

pws_return 000000BE

Symbol: pws_return
   Definitions
      At line 105 in file player.s
   Uses
      At line 102 in file player.s
      At line 107 in file player.s

s0x0007 00000048

Symbol: s0x0007
   Definitions
      At line 52 in file player.s
   Uses
      None
Comment: s0x0007 unused
s0x0070 00000054

Symbol: s0x0070
   Definitions
      At line 58 in file player.s
   Uses
      At line 55 in file player.s
Comment: s0x0070 used once
s0x0111 0000006E

Symbol: s0x0111
   Definitions
      At line 70 in file player.s
   Uses
      At line 67 in file player.s
Comment: s0x0111 used once
s0x0124 0000009E

Symbol: s0x0124
   Definitions
      At line 91 in file player.s
   Uses



ARM Macro Assembler    Page 3 Alphabetic symbol ordering
Relocatable symbols

      At line 88 in file player.s
Comment: s0x0124 used once
s0x0222 0000007E

Symbol: s0x0222
   Definitions
      At line 77 in file player.s
   Uses
      At line 74 in file player.s
Comment: s0x0222 used once
s0x0421 000000AE

Symbol: s0x0421
   Definitions
      At line 98 in file player.s
   Uses
      At line 95 in file player.s
Comment: s0x0421 used once
s0x0444 0000008E

Symbol: s0x0444
   Definitions
      At line 84 in file player.s
   Uses
      At line 81 in file player.s
Comment: s0x0444 used once
s0x0700 00000060

Symbol: s0x0700
   Definitions
      At line 64 in file player.s
   Uses
      At line 61 in file player.s
Comment: s0x0700 used once
18 symbols
353 symbols in table
